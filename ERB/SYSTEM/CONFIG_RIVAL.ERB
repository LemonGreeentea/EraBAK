;-------------------------------------------------
;라이벌 설정
;-------------------------------------------------
@CONFIG_RIVAL
#DIM FIRST_LINE
FIRST_LINE = LINECOUNT

CALL SINGLE_DRAWLINE
PRINTFORML ●라이벌에 대한 설정●
CALL SINGLE_DRAWLINE
PRINTFORML {FLAG:RIVAL}
LOCALS:0 = 현재 라이벌 설정
PRINTFORM %LOCALS:0, 36, RIGHT% -
PRINTBUTTON " 0[변경] ", 0
IF FLAG:RIVAL == 0
	PRINT OFF
ELSE
	PRINT ON
ENDIF
PRINTL
IF FLAG:RIVAL == 1
    LOCALS:0 = 라이벌의 소속
    PRINTFORM %LOCALS:0, 36, RIGHT% -
    PRINTBUTTON " 1[변경] ", 1
    IF FLAG:방랑자 == 0
        PRINTFORM 라이벌이 %조사처리(ANAME(MASTER),"을")% 따라 다닙니다.
    ELSEIF FLAG:방랑자 == 1
        PRINTFORM 라이벌이 %ANAME(MASTER)%의 국가 내에서 움직입니다.
    ELSE
        PRINTFORM 라이벌은 어디든지 다닙니다.
    ENDIF
    PRINTL

    LOCALS:0 = 라이벌의 타겟
    PRINTFORM %LOCALS:0, 36, RIGHT% -
    PRINTBUTTON " 2[변경] ", 2
    IF FLAG:타겟 == 0
        PRINTFORM 라이벌이 아무나 하고 만납니다.
    ELSEIF FLAG:타겟 == 1
        PRINTFORM 라이벌이 %조사처리(ANAME(MASTER),"와")% 연모하고 있거나 이미 타락시킨 사람하고 만납니다.
    ELSEIF FLAG:타겟 == 2
        PRINTFORM 라이벌이 
    ENDIF
    PRINTL
    
    LOCALS:0 = 라이벌의 처녀 개통
    PRINTFORM %LOCALS:0, 36, RIGHT% -
    PRINTBUTTON " 3[변경] ", 3
    IF FLAG:처녀개통 == 0
        PRINT 라이벌이 처녀를 지켜줍니다
    ELSEIF FLAG:처녀개통 == 1
        PRINT 라이벌을 사랑하는 사람의 처녀를 가져갑니다.
    ELSEIF FLAG:처녀개통 == 2
        PRINT 라이벌이 약점을 잡은 사람의 처녀를 가져갑니다.
    ELSE
        PRINT 라이벌이 인정사정도 없이 처녀를 가져갑니다.
    ENDIF
    PRINTL
ENDIF
CALL SINGLE_DRAWLINE
PRINTBUTTON "99[결정] ", 99


CALL SINGLE_DRAWLINE

$LOOP_0
INPUT
IF RESULT == 0
    SIF FLAG:RIVAL == 0
        FLAG:RIVAL = 1
    SIF FLAG:RIVAL == 1
        FLAG:RIVAL = 0
ELSEIF RESULT == 1
    FLAG:방랑자++
    SIF FLAG:방랑자 > 2
        FLAG:방랑자 = 0
ELSEIF RESULT == 2
    FLAG:타겟++
    SIF FLAG:타겟 > 2
        FLAG:타겟 = 0
ELSEIF RESULT == 3
    FLAG:처녀개통++
    SIF FLAG:처녀개통 > 3
        FLAG:처녀개통 = 0
ELSEIF RESULT == 99
    RETURN
ELSE
    GOTO LOOP_0
ENDIF
CLEARLINE LINECOUNT - FIRST_LINE
RESTART