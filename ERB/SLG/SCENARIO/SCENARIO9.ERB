;-------------------------------------------------
;시나리오 9
;-------------------------------------------------
@SCENARIO_NAME_9
RESULTS = 환상향대전·이
RETURN

@SCENARIO_INTRO_9
PRINTFORML
PRINTFORMW 평상시와 약간 다른 환상향
PRINTFORMW 당신은 누구와 짜, 누구와 싸워?
PRINTL

;랜덤 캐릭터는 선택에 맡긴다
FLAG:OP랜덤캐릭터사용 = 0

@SCENARIO_PLACEMENT_9

;세력 설정
COUNTRY_BOSS:0 = 0
COUNTRY_COLOR:0 = GETDEFCOLOR()



;--------레이무--------
COUNTRY_BOSS:1 = GET_ID(NAME_TO_CHARA("레이무"))
COUNTRY_COLOR:1 = 0xFF0000
COUNTRY_AI_TYPE:1 = AI_외교

CITY_OWNER:GET_CITYNUMBER("하쿠레이 신사") = 1
CITY_OWNER:GET_CITYNUMBER("미즈나라의 나무") = 1
CITY_OWNER:GET_CITYNUMBER("인간마을 주택가") = 1
CITY_OWNER:GET_CITYNUMBER("아큐저택") = 1
CITY_OWNER:GET_CITYNUMBER("영나암") = 1

CFLAG:(NAME_TO_CHARA("레이무")):1 = 1
CFLAG:(NAME_TO_CHARA("사쿠야")):1 = 1
CFLAG:(NAME_TO_CHARA("레밀리아")):1 = 1
CFLAG:(NAME_TO_CHARA("아야")):1 = 1
CFLAG:(NAME_TO_CHARA("아큐")):1 = 1
CFLAG:(NAME_TO_CHARA("텐시")):1 = 1
CFLAG:(NAME_TO_CHARA("코스즈")):1 = 1
CFLAG:(NAME_TO_CHARA("신묘마루")):1 = 1

;--------마리사--------
COUNTRY_BOSS:2 = GET_ID(NAME_TO_CHARA("마리사"))
COUNTRY_COLOR:2 = 0x79FF4B
COUNTRY_AI_TYPE:2 = AI_호전

CITY_OWNER:GET_CITYNUMBER("마가트로이드관") = 2
CITY_OWNER:GET_CITYNUMBER("키리사메 마법상점") = 2
CITY_OWNER:GET_CITYNUMBER("지하도서관") = 2
CITY_OWNER:GET_CITYNUMBER("홍마관") = 2

CFLAG:(NAME_TO_CHARA("마리사")):1 = 2
CFLAG:(NAME_TO_CHARA("소악마")):1 = 2
CFLAG:(NAME_TO_CHARA("파츄리")):1 = 2
CFLAG:(NAME_TO_CHARA("플랑도르")):1 = 2
CFLAG:(NAME_TO_CHARA("앨리스")):1 = 2
CFLAG:(NAME_TO_CHARA("니토리")):1 = 2
CFLAG:(NAME_TO_CHARA("샹하이인형")):1 = 2
CFLAG:(NAME_TO_CHARA("호라이인형")):1 = 2

;--------카센--------
COUNTRY_BOSS:3 = GET_ID(NAME_TO_CHARA("카센"))
COUNTRY_COLOR:3 = 0xF5A9F2
COUNTRY_AI_TYPE:3 = AI_내정

CITY_OWNER:GET_CITYNUMBER("야쿠모 저택") = 3
CITY_OWNER:GET_CITYNUMBER("마요이가") = 3
CITY_OWNER:GET_CITYNUMBER("옛 지옥 큰길") = 3
CITY_OWNER:GET_CITYNUMBER("옛 도시 온천가") = 3
CITY_OWNER:GET_CITYNUMBER("옛 도시 환락가") = 3

CFLAG:(NAME_TO_CHARA("첸")):1 = 3
CFLAG:(NAME_TO_CHARA("란")):1 = 3
CFLAG:(NAME_TO_CHARA("유카리")):1 = 3
CFLAG:(NAME_TO_CHARA("스이카")):1 = 3
CFLAG:(NAME_TO_CHARA("유우기")):1 = 3
CFLAG:(NAME_TO_CHARA("카센")):1 = 3
CFLAG:(NAME_TO_CHARA("요시카")):1 = 3
CFLAG:(NAME_TO_CHARA("청아")):1 = 3

;--------우츠호--------
COUNTRY_BOSS:4 = GET_ID(NAME_TO_CHARA("우츠호"))
COUNTRY_COLOR:4 = 0x002FFF
COUNTRY_AI_TYPE:4 = AI_호전

CITY_OWNER:GET_CITYNUMBER("지령전") = 4
CITY_OWNER:GET_CITYNUMBER("작열지옥터") = 4
CITY_OWNER:GET_CITYNUMBER("간헐천 지하센터") = 4
CITY_OWNER:GET_CITYNUMBER("모리야 신사") = 4
CITY_OWNER:GET_CITYNUMBER("풍신의 호수") = 4

CFLAG:(NAME_TO_CHARA("사나에")):1 = 4
CFLAG:(NAME_TO_CHARA("카나코")):1 = 4
CFLAG:(NAME_TO_CHARA("스와코")):1 = 4
CFLAG:(NAME_TO_CHARA("사토리")):1 = 4
CFLAG:(NAME_TO_CHARA("오린")):1 = 4
CFLAG:(NAME_TO_CHARA("우츠호")):1 = 4

;--------코코로--------
COUNTRY_BOSS:5 = GET_ID(NAME_TO_CHARA("코코로"))
COUNTRY_COLOR:5 = 0xFA5882
COUNTRY_AI_TYPE:5 = AI_외교

CITY_OWNER:GET_CITYNUMBER("몽전대사묘") = 5
CITY_OWNER:GET_CITYNUMBER("신령묘") = 5

CFLAG:(NAME_TO_CHARA("코이시")):1 = 5
CFLAG:(NAME_TO_CHARA("이치린")):1 = 5
CFLAG:(NAME_TO_CHARA("운잔")):1 = 5
CFLAG:(NAME_TO_CHARA("뱌쿠렌")):1 = 5
CFLAG:(NAME_TO_CHARA("후토")):1 = 5
CFLAG:(NAME_TO_CHARA("토지코")):1 = 5
CFLAG:(NAME_TO_CHARA("미코")):1 = 5
CFLAG:(NAME_TO_CHARA("코코로")):1 = 5

;--------쇼우--------
COUNTRY_BOSS:6 = GET_ID(NAME_TO_CHARA("쇼우"))
COUNTRY_COLOR:6 = 0XFACC2E
COUNTRY_AI_TYPE:6 = AI_방위

CITY_OWNER:GET_CITYNUMBER("명련사") = 6
CITY_OWNER:GET_CITYNUMBER("묘지") = 6
CITY_OWNER:GET_CITYNUMBER("무연총") = 6

CFLAG:(NAME_TO_CHARA("나즈린")):1 = 6
CFLAG:(NAME_TO_CHARA("코가사")):1 = 6
CFLAG:(NAME_TO_CHARA("미나미츠")):1 = 6
CFLAG:(NAME_TO_CHARA("쇼우")):1 = 6
CFLAG:(NAME_TO_CHARA("누에")):1 = 6
CFLAG:(NAME_TO_CHARA("쿄코")):1 = 6
CFLAG:(NAME_TO_CHARA("마미조")):1 = 6

;--------쿠라피--------
COUNTRY_BOSS:7 = GET_ID(NAME_TO_CHARA("클라운피스"))
COUNTRY_COLOR:7 = 0x00BFFF
COUNTRY_AI_TYPE:7 = AI_호전

CITY_OWNER:GET_CITYNUMBER("안개의 호수 근처") = 7
CITY_OWNER:GET_CITYNUMBER("안개의 호수") = 7
CITY_OWNER:GET_CITYNUMBER("달의 표면") = 7
CITY_OWNER:GET_CITYNUMBER("고요의 바다") = 7

CFLAG:(NAME_TO_CHARA("클라운피스")):1 = 7
CFLAG:(NAME_TO_CHARA("대요정")):1 = 7
CFLAG:(NAME_TO_CHARA("치르노")):1 = 7
CFLAG:(NAME_TO_CHARA("릴리화이트")):1 = 7
CFLAG:(NAME_TO_CHARA("릴리블랙")):1 = 7
CFLAG:(NAME_TO_CHARA("서니밀크")):1 = 7
CFLAG:(NAME_TO_CHARA("루나차일드")):1 = 7
CFLAG:(NAME_TO_CHARA("스타사파이어")):1 = 7
CFLAG:(NAME_TO_CHARA("순호")):1 = 7

;--------모코우--------
COUNTRY_BOSS:8 = GET_ID(NAME_TO_CHARA("모코우"))
COUNTRY_COLOR:8 = 0x974E00
COUNTRY_AI_TYPE:8 = AI_내정

CITY_OWNER:GET_CITYNUMBER("모코우 집") = 8
CITY_OWNER:GET_CITYNUMBER("서당") = 8
CITY_OWNER:GET_CITYNUMBER("칠성장어구이 포장마차") = 8
CITY_OWNER:GET_CITYNUMBER("미혹의 죽림 동부") = 8
CITY_OWNER:GET_CITYNUMBER("영원정") = 8

CFLAG:(NAME_TO_CHARA("미스티아")):1 = 8
CFLAG:(NAME_TO_CHARA("케이네")):1 = 8
CFLAG:(NAME_TO_CHARA("에이린")):1 = 8
CFLAG:(NAME_TO_CHARA("카구야")):1 = 8
CFLAG:(NAME_TO_CHARA("모코우")):1 = 8
CFLAG:(NAME_TO_CHARA("와카사기히메")):1 = 8
CFLAG:(NAME_TO_CHARA("세키반키")):1 = 8
CFLAG:(NAME_TO_CHARA("카게로")):1 = 8

;--------세이자--------
COUNTRY_BOSS:9 = GET_ID(NAME_TO_CHARA("세이자"))
COUNTRY_COLOR:9 = 0XB40404
COUNTRY_AI_TYPE:9 = AI_호전

CITY_OWNER:GET_CITYNUMBER("휘침성") = 9
CITY_OWNER:GET_CITYNUMBER("무명의 언덕") = 9
CITY_OWNER:GET_CITYNUMBER("태양의 밭") = 9

CFLAG:(NAME_TO_CHARA("루미아")):1 = 9
CFLAG:(NAME_TO_CHARA("리글")):1 = 9
CFLAG:(NAME_TO_CHARA("메디슨")):1 = 9
CFLAG:(NAME_TO_CHARA("히나")):1 = 9
CFLAG:(NAME_TO_CHARA("키스메")):1 = 9
CFLAG:(NAME_TO_CHARA("야마메")):1 = 9
CFLAG:(NAME_TO_CHARA("파르시")):1 = 9
CFLAG:(NAME_TO_CHARA("세이자")):1 = 9

;--------유카--------
COUNTRY_BOSS:10 = GET_ID(NAME_TO_CHARA("유카"))
COUNTRY_COLOR:10 = 0XB8D200
COUNTRY_AI_TYPE:10 = AI_호전

CITY_OWNER:GET_CITYNUMBER("뒷산의 호수") = 10
CITY_OWNER:GET_CITYNUMBER("몽환문") = 10
CITY_OWNER:GET_CITYNUMBER("몽환관") = 10
CITY_OWNER:GET_CITYNUMBER("몽환계") = 10

CFLAG:(NAME_TO_CHARA("유카")):1 = 10
CFLAG:(NAME_TO_CHARA("쿠루미")):1 = 10
CFLAG:(NAME_TO_CHARA("에리")):1 = 10
CFLAG:(NAME_TO_CHARA("겐게츠")):1 = 10
CFLAG:(NAME_TO_CHARA("무게츠")):1 = 10

;--------영희--------
COUNTRY_BOSS:11 = GET_ID(NAME_TO_CHARA("시키에이키"))
COUNTRY_COLOR:11 = 0x792B90
COUNTRY_AI_TYPE:11 = AI_외교

CITY_OWNER:GET_CITYNUMBER("피안") = 11
CITY_OWNER:GET_CITYNUMBER("시비곡직청") = 11
CITY_OWNER:GET_CITYNUMBER("백옥루") = 11
CITY_OWNER:GET_CITYNUMBER("사이쿄우 아야카시") = 11
CITY_OWNER:GET_CITYNUMBER("유령 대기장소") = 11

CFLAG:(NAME_TO_CHARA("리리카")):1 = 11
CFLAG:(NAME_TO_CHARA("메를랑")):1 = 11
CFLAG:(NAME_TO_CHARA("루나사")):1 = 11
CFLAG:(NAME_TO_CHARA("요우무")):1 = 11
CFLAG:(NAME_TO_CHARA("반령")):1 = 11
CFLAG:(NAME_TO_CHARA("유유코")):1 = 11
CFLAG:(NAME_TO_CHARA("코마치")):1 = 11
CFLAG:(NAME_TO_CHARA("시키에이키")):1 = 11
CFLAG:(NAME_TO_CHARA("헤카티아")):1 = 11

;--------레이센--------
COUNTRY_BOSS:12 = GET_ID(NAME_TO_CHARA("레이센"))
COUNTRY_COLOR:12 = 0xFFF999
COUNTRY_AI_TYPE:12 = AI_방위

CITY_OWNER:GET_CITYNUMBER("달의 궁전") = 12
CITY_OWNER:GET_CITYNUMBER("달토끼 거리") = 12
CITY_OWNER:GET_CITYNUMBER("와타츠키노 저택") = 12
CITY_OWNER:GET_CITYNUMBER("약도장") = 12

CFLAG:(NAME_TO_CHARA("테위")):1 = 12
CFLAG:(NAME_TO_CHARA("레이센")):1 = 12
CFLAG:(NAME_TO_CHARA("토요히메")):1 = 12
CFLAG:(NAME_TO_CHARA("요리히메")):1 = 12
CFLAG:(NAME_TO_CHARA("달레이센")):1 = 12
CFLAG:(NAME_TO_CHARA("세이란")):1 = 12
CFLAG:(NAME_TO_CHARA("링고")):1 = 12

;지정되지 않았던 캐릭터는 방랑 「당신」는 제외（MASTER 바꿔 넣었을 때에 방랑하는 것을 막는다）.
FOR LOCAL:0, 1, CHARANUM
	SIF CFLAG:(LOCAL:0):1 == 0  && CSTR:(LOCAL:0):99 != "당신"
		CFLAG:(LOCAL:0):특수상태 = 특수상태_방랑
NEXT

;병력의 초기 배치
CALL INIT_ARMY

;무소속 도시의 병수는 경제의 7.5%
FOR LOCAL:0, 0, MAX_CITY
	SIF CITY_OWNER:(LOCAL:0) == 0
		CITY_SOLDIER:(LOCAL:0) = CITY_ECONOMY:(LOCAL:0) * 75 / 1000
NEXT

;■관계 설정
CALL SHARED_SETTING_RELATION

CALL INIT_RELATION("레이무", "마리사", 400, 0)
CALL INIT_RELATION("레이무", "카센", 300, 0)
CALL INIT_RELATION("레이무", "우츠호", 0, 300)
CALL INIT_RELATION("레이무", "코코로", 300, 0)
CALL INIT_RELATION("레이무", "쇼우", 300, 300)
CALL INIT_RELATION("레이무", "클라운피스", 300, 300)
CALL INIT_RELATION("레이무", "모코우", 300, 0)
CALL INIT_RELATION("레이무", "세이자", 0, 600)
CALL INIT_RELATION("레이무", "유카", 300, 300)
CALL INIT_RELATION("레이무", "시키에이키", 300, 300)
CALL INIT_RELATION("레이무", "레이센", 0, 400)

CALL INIT_RELATION("마리사", "레이무", 500, 0)
CALL INIT_RELATION("마리사", "코코로", 300, 0)

CALL INIT_RELATION("우츠호", "레이무", 500, 500)
CALL INIT_RELATION("우츠호", "마리사", 400, 400)
CALL INIT_RELATION("우츠호", "코코로", 300, 300)
CALL INIT_RELATION("우츠호", "클라운피스", 0, 400)

CALL INIT_RELATION("코코로", "레이무", 300, 0)
CALL INIT_RELATION("코코로", "우츠호", 300, 0)
CALL INIT_RELATION("코코로", "쇼우", 600, 0)

CALL INIT_RELATION("쇼우", "코코로", 600, 0)

CALL INIT_RELATION("클라운피스", "레이무", 0, 400)
CALL INIT_RELATION("클라운피스", "마리사", 0, 300)
CALL INIT_RELATION("클라운피스", "세이자", 500, 0)
CALL INIT_RELATION("클라운피스", "레이센", 0, 800)

CALL INIT_RELATION("모코우", "레이무", 500, 0)
CALL INIT_RELATION("모코우", "레이센", 400, 0)

CALL INIT_RELATION("세이자", "레이무", 0, 1000)
CALL INIT_RELATION("세이자", "마리사", 0, 800)
CALL INIT_RELATION("세이자", "카센", 0, 800)
CALL INIT_RELATION("세이자", "우츠호", 0, 800)
CALL INIT_RELATION("세이자", "코코로", 0, 800)
CALL INIT_RELATION("세이자", "쇼우", 0, 800)
CALL INIT_RELATION("세이자", "클라운피스", 1000, 0)
CALL INIT_RELATION("세이자", "모코우", 0, 800)
CALL INIT_RELATION("세이자", "유카", 0, 800)
CALL INIT_RELATION("세이자", "시키에이키", 0, 1000)
CALL INIT_RELATION("세이자", "레이센", 0, 800)

CALL INIT_RELATION("유카", "레이무", 500, 0)
CALL INIT_RELATION("유카", "마리사", 500, 0)

CALL INIT_RELATION("시키에이키", "우츠호", 300, 300)
CALL INIT_RELATION("시키에이키", "코코로", 300, 300)

CALL INIT_RELATION("레이센", "레이무", 500, 0)
CALL INIT_RELATION("레이센", "모코우", 800, 0)
;-------------------------------------------------
;정례 이벤트
;턴 엔드시에 불려 간다
;-------------------------------------------------
@SCENARIO_EVENT_9
#DIM 대상

;5기 이후, 매턴 30%로 발동
IF DAY >= 5 && RAND:1000 < 300
	CALL SINGLE_DRAWLINE
	SELECTCASE RAND:7
		;축제
		CASE 0
			CALL SCENARIO_9_RAND_CITYSELECT(1)
			대상 = RESULT
			IF 대상 <= 0
				RETURN
			ENDIF
			PRINTFORML %CITY_NAME:대상%로 큰 축제가 열린 것 같다
			LOCAL:0 = 1000 * (RAND:3 + 1)
			SETCOLOR 칼라_오렌지
			;경제가 다 성장하고 있으면 한계를 늘린다
			IF CITY_ECONOMY:대상 == CITY_ECONOMY_LIMIT:대상
				CITY_ECONOMY_LIMIT:대상 += LOCAL:0
				PRINTFORMW %CITY_NAME:대상%의 경제 규모의 상한이 {LOCAL:0 / 100} 상승해, {CITY_ECONOMY_LIMIT:대상 / 100}가 되었다!
			;다 성장하지 않으면 한계까지 늘린다
			ELSE
				IF CITY_ECONOMY_LIMIT:대상 < (CITY_ECONOMY:대상 + LOCAL:0)
					LOCAL:0 = CITY_ECONOMY_LIMIT:대상 - CITY_ECONOMY:대상
				ENDIF
				CITY_ECONOMY:대상 += LOCAL:0
				PRINTFORMW %CITY_NAME:대상%의 경제 규모가 {LOCAL:0 / 100} 상승해, {CITY_ECONOMY:대상 / 100}가 되었다!
			ENDIF
			RESETCOLOR
		;치안 악화
		CASE 1
			CALL SCENARIO_9_RAND_CITYSELECT(1)
			대상 = RESULT
			IF 대상 <= 0
				RETURN
			ENDIF
			PRINTFORML 전쟁의 오래 끌어에 의해 %CITY_NAME:대상%의 치안이 흐트러지고 있는 것 같다
			LOCAL:0 = 1000 * (RAND:3 + 1)
			CITY_ECONOMY:대상 = MAX(CITY_ECONOMY:대상 - LOCAL:0, 0)
			SETCOLOR 칼라_오렌지
			PRINTFORMW %CITY_NAME:대상%의 경제 규모가 {LOCAL:0 / 100} 감소해, {CITY_ECONOMY_LIMIT:대상 / 100}가 되었다
			RESETCOLOR
		;기후 불순
		CASE 2
			CALL SCENARIO_9_RAND_CITYSELECT(1)
			대상 = RESULT
			IF 대상 <= 0
				RETURN
			ENDIF
			LOCAL:0 = 10 * (RAND:3 + 1)
			PRINTFORML 근년의 기후 불순하게보다 %CITY_NAME:대상%에서는 식량이 부족한 것 같다
			CITY_GUARD:대상 = MAX(CITY_GUARD:대상 - LOCAL:0, 0)
			SETCOLOR 칼라_오렌지
			PRINTFORMW %CITY_NAME:대상%의 방위력이 {LOCAL:0} 감소해, {CITY_GUARD:대상}가 되었다
			RESETCOLOR
		;의용군
		CASE 3
			CALL SCENARIO_9_RAND_CITYSELECT(1)
			대상 = RESULT
			IF 대상 <= 0
				RETURN
			ENDIF
			LOCAL:0 = 10 * (RAND:3 + 1)
			PRINTFORML 근년의 위기감의 높아짐에보다, %CITY_NAME:대상%의 방위력이 강화된 것 같다
			CITY_GUARD:대상 += 10
			SETCOLOR 칼라_오렌지
			PRINTFORMW %CITY_NAME:대상%의 방위력이 {LOCAL:0} 상승해, {CITY_GUARD:대상}가 되었다!
			RESETCOLOR
		;암살 미수
		CASE 4
			CALL SCENARIO_9_RAND_CHARASELECT(1)
			대상 = RESULT
			IF 대상 <= 0
				RETURN
			ENDIF
			PRINTFORML 소문에 의하면 %조사처리(ANAME(대상),"는")% 암살되고 걸린 것 같다
			CALL ADD_COOLTIME(대상, 2)
;		;유행병
;		CASE 5
;			CALL SCENARIO_9_RAND_CHARASELECT(1)
;			대상 = RESULT
;			IF 대상 <= 0
;				RETURN
;			ENDIF
;			LOCAL:0 = RAND:3 + 1
;			SELECTCASE RAND:3
;				CASE 0
;					LOCALS =무투
;					ABL:대상:무투 -= MAX(ABL:대상:무투 - LOCAL:0, 1)
;				CASE 1
;					LOCALS =지략
;					ABL:대상:지략 -= MAX(ABL:대상:지략 -LOCAL:0, 1)
;				CASE 2
;					LOCALS =정치
;					ABL:대상:정치 -= MAX(ABL:대상:정치 - LOCAL:0, 1)
;			ENDSELECT
;			PRINTFORML 소문에 의하면 %조사처리(ANAME(대상),"는")% 유행병에 걸려 버린 것 같다
;			SETCOLOR 칼라_오렌지
;			PRINTFORMW %ANAME(대상)%의 %조사처리(LOCALS,"가")% {LOCAL:0} 내려, {ABL:대상:LOCALS}가 되었다
;			RESETCOLOR
		;야심의 메이네
		CASE 6
			CALL SCENARIO_9_RAND_CHARASELECT(1)
			대상 = RESULT
			IF 대상 <= 0
				RETURN
			ENDIF
			LOCAL:0 = RAND:3 + 1
			ABL:대상:야심 += LOCAL:0
			PRINTFORML 소문에 의하면 %조사처리(ANAME(대상),"는")% 뭔가 불온한 행동을 하고 있는 것 같다
			SETCOLOR 칼라_오렌지
			PRINTFORMW %ANAME(대상)%의 야심이 {LOCAL:0} 올라, {ABL:대상:야심}가 되었다
			RESETCOLOR
			
	ENDSELECT
ENDIF

@SCENARIO_9_RAND_CITYSELECT(ARG:0 = 1)
#DIM 대상, MAX_CITY
#DIM 카운터, 1
VARSET 대상
VARSET 카운터

;셔플용의 배열을 작성한다
FOR LOCAL, 0, MAX_CITY
	IF CITY_TYPE:LOCAL == 1
		BREAK
	ENDIF
	IF ARG:0 || (!ARG:0 && CITY_OWNER:LOCAL == CFLAG:MASTER:1)
		대상:카운터 = LOCAL
		카운터 ++
	ENDIF
NEXT

RETURN 카운터 ? 대상:(RAND:카운터) # -1

@SCENARIO_9_RAND_CHARASELECT(ARG:0 = 1)
#DIM 대상, 3000
#DIM 카운터, 1
VARSET 대상
VARSET 카운터
;셔플용의 배열을 작성한다
FOR LOCAL, 0, CHARANUM
	IF (ARG:0 || (!ARG:0 && CFLAG:(LOCAL:0):1 == CFLAG:MASTER:1)) && !CFLAG:(LOCAL:0):포로처 && !CFLAG:(LOCAL:0):특수상태
		대상:카운터 = LOCAL
		카운터 ++
	ENDIF
NEXT

RETURN 카운터 ? 대상:(RAND:카운터) # -1
